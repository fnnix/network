(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-204fb795"],{3079:function(t,e,a){},"8e04":function(t,e,a){"use strict";var n=a("3079"),s=a.n(n);s.a},aabd:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"padding-x-4 padding-x-6--lg text-center"},[a("h3",{staticClass:"margin-top-0 margin-bottom-4 text-center font-bold",domProps:{textContent:t._s(t.status.enabled?t.$t("text.two_step_authentication_activated"):t.$t("text.two_step_authentication_deactivated"))}}),a("div",{staticClass:"flex justify-center"},[a("checkbox-switch",{attrs:{disabled:t.isLoading,checked:t.enabled},on:{toggle:function(e){t.enabled=!t.enabled}}})],1),t.activate||!t.enabled||t.status.enabled?t._e():[a("h3",{staticClass:"margin-top-4 text-center font-bold",domProps:{textContent:t._s(t.$t("text.two_step_authentication"))}}),a("p",{staticClass:"text-center padding-x-6--xl",domProps:{textContent:t._s(t.$t("text.two_step_authentication_description_1"))}}),a("p",{staticClass:"text-center padding-x-6--xl",domProps:{textContent:t._s(t.$t("text.two_step_authentication_description_2"))}}),a("p",{staticClass:"text-center padding-x-6--xl",domProps:{textContent:t._s(t.$t("text.two_step_authentication_description_3"))}}),a("p",{staticClass:"text-center padding-x-6--xl",domProps:{textContent:t._s(t.$t("text.two_step_authentication_description_4"))}}),t.activate||t.status.enabled||!t.status.qrCode?t._e():a("div",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.status.qrCode,expression:"status.qrCode"}],attrs:{alt:t.status.secret}})])],t.activate&&t.status.enabled&&(!t.status.enabled||!t.enabled)||t.enabled&&!t.status.enabled||!t.enabled&&t.status.activated&&t.status.enabled?a("div",{staticClass:"flex flex-column items-center padding-y-4"},[a("base-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,numeric:!0,min:6},expression:"{ required: true, numeric: true, min: 6 }"}],staticClass:"field--primary-bold-center",attrs:{label:t.$t("text.authentication_code"),error:t.errors.first("authenticationCode","tw"),"data-vv-scope":"tw","data-name":"authenticationCode",disabled:t.isLoading,"static-flow-error-message":""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.switchDBAuth(e)}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),a("div",{staticClass:"flex flex-row padding-top-4"},[a("button",{staticClass:"btn btn--alt",attrs:{type:"button",disabled:t.isLoading||!!t.errors.has(t.$t("text.authentication_code"),"tw")},domProps:{textContent:t._s(t.status.enabled?t.$t("text.disable"):t.$t("text.enable"))},on:{click:t.switchDBAuth}})])],1):t._e()],2)},s=[],i=(a("96cf"),a("1da1")),r={name:"TwoStepAuthentication",props:{statusMethod:{type:[String,Boolean],default:"user/fetchQR"},switchMethod:{type:[String,Boolean],default:"user/switchDoubleAuth"}},data:function(){return{isLoading:!1,activate:!1,enabled:!1,status:{},code:null}},mounted:function(){this.fetchStatus()},methods:{fetchStatus:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,t.$store.dispatch(t.statusMethod);case 4:t.status=e.sent,t.activate=t.status.activated,t.enabled=t.status.enabled,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),e.t0;case 12:return e.prev=12,t.isLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()},switchDBAuth:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isLoading=!0,a=t.code,a&&!(a.length<6)){e.next=5;break}return e.abrupt("return");case 5:return n=!t.status.enabled,e.next=8,t.$store.dispatch(t.switchMethod,{code:a,enable:n});case 8:t.$toasted.show(t.$t("text.success"),{type:"success"}),t.status.enabled=n,t.enabled=n,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),e.t0;case 16:return e.prev=16,t.fetchStatus(),t.$validator.reset(),t.code="",t.isLoading=!1,e.finish(16);case 22:case"end":return e.stop()}}),e,null,[[0,13,16,22]])})))()}}},o=r,c=(a("8e04"),a("2877")),d=Object(c["a"])(o,n,s,!1,null,"05950884",null);e["default"]=d.exports}}]);