(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d225663"],{e3dc:function(e,r,a){"use strict";a.r(r);var n=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"padding-4 border-primary-light border-rounded-4"},[a("h3",{staticClass:"margin-top-0 margin-bottom-4 text-center font-medium",domProps:{textContent:e._s(e.$t("text.general_info"))}}),a("div",{staticClass:"grid grid-row-gap-4 grid-column-gap-4--md grid-column-gap-0--lg grid-column-gap-4--xl"},[a("div",{staticClass:"grid-column-12 grid-column-6--md grid-column-12--lg grid-column-6--xl"},[a("base-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,regex:e.validation.username()},expression:"{ required: true, regex: validation.username() }"}],ref:"usernameInput",attrs:{label:e.$t("ui.username"),readonly:e.isLoading||e.isCredentialLoading,error:e.errors.first("username","personal")||e.checkMessages.username,type:"text",dataName:"username",placeholder:e.$t("ui.placeholder_username"),"autocomplete-native":"off","data-vv-scope":"personal"},on:{change:e.resetCredentialsCheck,blur:e.credentialsCheck,keypress:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.nextStep(r)}},model:{value:e.personal.username,callback:function(r){e.$set(e.personal,"username",r)},expression:"personal.username"}})],1),a("div",{staticClass:"grid-column-12 grid-column-6--md grid-column-12--lg grid-column-6--xl"},[a("base-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,regex:e.validation.email()},expression:"{ required: true, regex: validation.email() }"}],attrs:{label:e.$t("ui.email"),readonly:e.isLoading||e.isCredentialLoading,error:e.errors.first("email","personal")||e.checkMessages.email,type:"email",dataName:"email",placeholder:e.$t("ui.placeholder_mail"),"autocomplete-native":"off","data-vv-scope":"personal"},on:{change:e.resetCredentialsCheck,blur:e.credentialsCheck,keypress:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.nextStep(r)}},model:{value:e.personal.email,callback:function(r){e.$set(e.personal,"email",r)},expression:"personal.email"}})],1),a("div",{staticClass:"grid-column-12 grid-column-6--md grid-column-12--lg grid-column-6--xl"},[a("base-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:6},expression:"{ required: true, min: 6 }"}],ref:"passwordField",attrs:{label:e.$t("ui.password"),disabled:e.isLoading,error:e.errors.first("password","personal"),type:"password",dataName:"password","data-vv-scope":"personal"},on:{focus:function(r){e.personal.confirm=""},keypress:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.nextStep(r)}},model:{value:e.personal.password,callback:function(r){e.$set(e.personal,"password",r)},expression:"personal.password"}})],1),a("div",{staticClass:"grid-column-12 grid-column-6--md grid-column-12--lg grid-column-6--xl"},[a("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:passwordField",expression:"'required|confirmed:passwordField'"}],attrs:{label:e.$t("ui.password_confirm"),disabled:e.isLoading,error:e.errors.first("passwordСonfirm","personal"),type:"password",dataName:"passwordСonfirm","data-vv-scope":"personal"},on:{focus:function(r){e.personal.confirm=""},keypress:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.nextStep(r)}},model:{value:e.personal.confirm,callback:function(r){e.$set(e.personal,"confirm",r)},expression:"personal.confirm"}})],1)]),a("div",{staticClass:"flex justify-between padding-top-5"},[a("router-link",{staticClass:"btn btn--plain",attrs:{to:{name:"signIn"}},domProps:{textContent:e._s(e.$t("ui.signin"))}}),a("button",{staticClass:"btn btn--alt",attrs:{type:"button",disabled:!e.stepIsValid||e.isLoading,"data-progress":e.isLoading||e.isCredentialLoading},domProps:{textContent:e._s(e.$t("ui.next_step"))},on:{click:e.nextStep}})],1)])},t=[],i=(a("7db0"),a("c975"),a("d3b7"),a("5530")),s=(a("96cf"),a("1da1")),o=a("e453"),l={name:"SignUpFirstStep",components:{IconBack:function(){return a.e("chunk-0bcd5acd").then(a.t.bind(null,"7338",7))}},data:function(){return{validation:o["a"],isCredentialLoading:!1,isLoading:!1,credentialsValidation:{},personal:{username:"",email:"",password:"",confirm:""}}},computed:{stepIsValid:function(e){var r,a,n,t;return!e.errors.any("personal")&&(null===(r=e.credentialsValidation)||void 0===r||null===(a=r.email)||void 0===a?void 0:a.success)&&(null===(n=e.credentialsValidation)||void 0===n||null===(t=n.username)||void 0===t?void 0:t.success)&&e.personal.password&&e.personal.confirm},checkMessages:function(e){var r,a,n,t;return{email:null===(r=e.credentialsValidation)||void 0===r||null===(a=r.email)||void 0===a?void 0:a.message,username:null===(n=e.credentialsValidation)||void 0===n||null===(t=n.username)||void 0===t?void 0:t.message}}},activated:function(){this.$refs.usernameInput.$el.querySelector("input").focus()},methods:{resetCredentialsCheck:function(){this.$set(this,"credentialsValidation",{})},credentialsCheck:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,e.isCredentialLoading=!0,a=e.errors.items.find((function(r){return[e.$t("ui.username"),e.$t("ui.email")].indexOf(r.field)>=0})),void 0===a&&e.personal.username&&e.personal.email){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,e.$store.dispatch("user/usernameCheck",{json:{email:e.personal.email,username:e.personal.username}});case 7:return n=r.sent,e.credentialsValidation=n,r.abrupt("return",Promise.resolve());case 12:return r.prev=12,r.t0=r["catch"](0),r.abrupt("return",Promise.reject());case 15:return r.prev=15,e.isCredentialLoading=!1,r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[0,12,15,18]])})))()},nextStep:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.stepIsValid){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,e.isLoading=!0,r.next=6,e.$validator.validateAll("personal");case 6:if(a=r.sent,a){r.next=9;break}return r.abrupt("return");case 9:return r.next=11,e.credentialsCheck();case 11:e.$emit("success",Object(i["a"])({},e.personal)),e.isLoading=!1,r.next=19;break;case 15:r.prev=15,r.t0=r["catch"](2),r.t0,e.isLoading=!1;case 19:case"end":return r.stop()}}),r,null,[[2,15]])})))()}}},d=l,u=a("2877"),c=Object(u["a"])(d,n,t,!1,null,"3b62be02",null);r["default"]=c.exports}}]);