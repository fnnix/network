(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6465a33e"],{"1eac":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{ref:"formEl",staticClass:"hidden"}),n("div",{staticClass:"flex justify-end items-center margin-bottom-4"},[n("div",{staticClass:"flex justify-center items-center tab usd cursor-pointer",class:{active:"USD"===t.currency},on:{click:function(e){return t.changeTab("USD","bc")}}},[n("icon-usd",{staticClass:"icon--crypto margin-right-2"}),n("div",{staticClass:"font-bold"},[t._v("USD")])],1),n("div",{staticClass:"flex justify-center items-center tab btc cursor-pointer",class:{active:"BTC"===t.currency},on:{click:function(e){return t.changeTab("BTC","bt")}}},[n("icon-bitcoin",{staticClass:"icon--crypto margin-right-2"}),n("div",{staticClass:"font-bold"},[t._v("BTC")])],1),n("div",{staticClass:"flex justify-center items-center tab eth cursor-pointer",class:{active:"ETH"===t.currency},on:{click:function(e){return t.changeTab("ETH","eh")}}},[n("icon-ethereum",{staticClass:"icon--crypto margin-right-2"}),n("div",{staticClass:"font-bold"},[t._v("ETH")])],1)]),n("div",{staticClass:"wrap-bl flex flex-column justify-center items-center margin-x-auto padding-x-3 padding-y-3 padding-x-5--md"},[n("icon-finance",{staticClass:"icon-main margin-bottom-3"}),n("div",{staticClass:"color-primary-light font-lg font-bold margin-bottom-3",domProps:{textContent:t._s(t.title)}}),"USD"===t.currency?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeSelect,expression:"closeSelect"}],staticClass:"wrap-select-payment width-custom margin-bottom-3 z-index-5",class:{open:t.isOpenSelect}},[n("div",{staticClass:"payment-bl flex items-center padding-x-2 padding-y-1 cursor-pointer relative z-index-3",class:t.activePayment.prefix,on:{click:function(e){t.isOpenSelect=!0}}},[n(t.activePayment.icon,{tag:"component",staticClass:"icon--payment margin-right-1 fill-white"}),n("div",{staticClass:"color-white margin-right-1",domProps:{textContent:t._s(t.activePayment.label)}}),n("icon-arrow-down",{staticClass:"icon-arrow fill-white"})],1),n("div",{staticClass:"wrap-select",on:{click:function(e){t.isOpenSelect=!1}}},t._l(t.paymentTabsItems,(function(e,i){return n("div",{staticClass:"select flex items-center cursor-pointer padding-y-1 padding-x-2",on:{click:function(n){return t.selectPayment(e.prefix)}}},[n(e.icon,{tag:"component",staticClass:"icon--payment fill-primary-light margin-right-1"}),n("div",{staticClass:"color-primary-light",domProps:{textContent:t._s(e.label)}})],1)})),0)]):t._e(),n("div",{staticClass:"color-primary-light margin-bottom-3 text-center",domProps:{textContent:t._s(t.refill?t.activePayment.desc:t.activePayment.descWithdraw)}}),n("div",{staticClass:"margin-bottom-3 flex items-center justify-center balans-calculation",class:t.currency},[n("div",{staticClass:"margin-right-1",domProps:{textContent:t._s(t.$t("text.balance")+":")}}),n("div",{staticClass:"font-bold",domProps:{textContent:t._s(t.$nb(t.resultBalance,t.currency)+" "+t.currency)}})]),t.activePayment.wallet||t.refill?n("div",{staticClass:"margin-bottom-3"},[n("base-input",{staticClass:"width-custom field--primary-bold-center bg-radius margin-bottom-3",attrs:{error:t.limits,inputmode:"text",placeholder:"0.00","static-flow-error-message":""},on:{keyup:function(e){return t.numberMask(t.amountField)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.actionWrapper(e)}},model:{value:t.amountField,callback:function(e){t.amountField=e},expression:"amountField"}}),n("button",{staticClass:"width-custom btn btn--alt",attrs:{disabled:t.isDisable},domProps:{textContent:t._s(t.$t("text.request"))},on:{click:t.actionWrapper}}),t.activeModal?n("base-modal",{staticClass:"finance-modal fixed stretch z-index-5 flex justify-center items-center",on:{close:function(e){t.activeModal=!1}}},[n("icon-snowflake",{staticClass:"snowflake icon__1"}),n("icon-snowflake",{staticClass:"snowflake icon__2"}),n("icon-snowflake",{staticClass:"snowflake icon__3"}),n("icon-snowflake",{staticClass:"snowflake icon__4"}),n("icon-snowflake",{staticClass:"snowflake icon__5"}),n("icon-glasses",{staticClass:"icon-glasses"}),n("div",{staticClass:"font-lg font-bold margin-bottom-3 color-accent",domProps:{textContent:t._s(t.$t("modal.title"))}}),n("div",{staticClass:"margin-bottom-3 color-accent",domProps:{textContent:t._s(t.$t("modal.desc_1"))}}),n("div",{staticClass:"margin-bottom-3 color-accent",domProps:{textContent:t._s(t.$t("modal.desc_2"))}}),n("button",{staticClass:"width-custom btn btn--alt",domProps:{textContent:t._s(t.$t("modal.btn"))},on:{click:function(e){t.activeModal=!1}}})],1):t._e()],1):n("div",[n("div",{staticClass:"color-red margin-bottom-3",domProps:{textContent:t._s(t.$t("error.no_wallet"))}}),n("div",{staticClass:"flex justify-center"},[n("router-link",{staticClass:"btn btn--alt",attrs:{to:{name:"accountSettingsWallet"}}},[n("icon-setting",{staticClass:"icon-settings margin-right-1"}),n("div",{domProps:{textContent:t._s(t.$t("nav.settings"))}})],1)],1)])],1)])},c=[],s=(n("99af"),n("4de4"),n("7db0"),n("d81d"),n("d3b7"),n("96cf"),n("1da1")),a=n("307e"),r={name:"Finances",components:{IconArrowDown:function(){return n.e("chunk-92860844").then(n.t.bind(null,"c874",7))},IconSetting:function(){return n.e("chunk-e531f4e4").then(n.t.bind(null,"5de8",7))},IconFinance:function(){return n.e("chunk-5469a13e").then(n.t.bind(null,"3d48",7))},IconSnowflake:function(){return n.e("chunk-779e88d2").then(n.t.bind(null,"4307",7))},IconGlasses:function(){return n.e("chunk-63122cf8").then(n.t.bind(null,"f112",7))}},mixins:[a["a"]],props:{refill:Boolean,fetchPaymentConfig:{type:Boolean,default:!0}},data:function(){return{currency:"",paymentSystemActive:"",amountField:null,isError:!1,isSuccess:!1,isOpenSelect:!1,activeModal:!1}},computed:{title:function(){return this.refill?this.$t("nav.balance_add"):this.$t("nav.withdraw")},paymentTabsItems:function(){var t=this;return this.financesActionsTabs[this.currency].map((function(e){var n=t.paymentSystems.find((function(t){if(t.prefix===e)return e}));return n})).filter((function(t){return t}))},resultBalance:function(){return this.refill?this.balanceNumber+this.amountNumber:this.balanceNumber-this.amountNumber},activePayment:function(){var t=this;return this.paymentTabsItems.find((function(e){return e.prefix===t.paymentSystemActive}))},amountNumber:function(){return this.$numeral(this.amountField).value()},balanceNumber:function(){return this.$numeral(this.$BALANCE[this.currency]).value()},isDisable:function(){return!!this.limits||(!this.amountField||(!this.amountField||(this.amountField<=0||!this.refill&&this.amountField>this.balanceNumber)))},limits:function(){var t=this.activePayment.config,e=t.addLimitMin,n=t.limitMin;return!(!this.amountNumber||this.isError)&&(!this.refill&&this.amountNumber<n?"".concat(this.$t("finances.limit_min")," = ").concat(n," ").concat(this.currency):!this.refill&&this.amountNumber>this.balanceNumber?this.$t("deposit.not_enough_money_on_the_balance"):!!(this.refill&&this.amountNumber<e)&&"".concat(this.$t("finances.limit_min")," = ").concat(e," ").concat(this.currency))}},watch:{$route:{handler:function(){var t=this.$route.query.type;this.currency=t,this.paymentSystemActive=this.financesActionsTabs[t][0],this.amountField=null},immediate:!0}},methods:{numberMask:function(t){this.amountField=this.$inputMask(t,this.currency,"0,0[.][00000000]")},changeTab:function(t,e){this.currency=t,this.paymentSystemActive=e,this.amountField=null},selectPayment:function(t){this.paymentSystemActive=t,this.activePayment,this.amountField=null},closeSelect:function(){this.isOpenSelect=!1},actionWrapper:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i,c,s,a,r,o,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isError=!1,t.isSuccess=!1,!t.$USER.isHoliday||t.refill){e.next=5;break}return e.abrupt("return",t.activeModal=!0);case 5:return n=t.currency,i=t.amountNumber,c=t.paymentSystemActive,s={currency:n,prefix:c,amount:i},t.amount=null,t.amountField=null,a=t.refill?"payment/balanceReplenishment":"payment/balanceWithdraw",e.next=12,t.$store.dispatch(a,s);case 12:if(r=e.sent,r.success&&!t.refill&&(t.$toasted.show(t.$t("text.success"),{type:"success"}),t.isSuccess=!0),!t.refill||r.TwigForm||r.url){e.next=16;break}throw"";case 16:if(!r.url||r.TwigForm){e.next=20;break}return o=r.url,t.$router.push(o+"&modal=success"),e.abrupt("return",!0);case 20:r.TwigForm&&(l=t.$refs.formEl,u=document.createElement("div"),u.innerHTML=r.TwigForm+'<button id="btnName_'.concat(t.currency,'"></button>'),l.append(u),null!==r.key&&"ac"==r.sys&&(t.$el.querySelector("#ac_sign").value=r.key,t.$el.querySelector("#ac_order_id").value=r.order),null!==r.key&&"pr"==r.sys&&(t.$el.querySelector("#m_sign").value=r.key,t.$el.querySelector("#m_orderid").value=r.order,t.$el.querySelector("#m_desc").value=r.desc),t.$el.querySelector("#btnName_"+t.currency).setAttribute("name",r.btnName),l.setAttribute("action",r.actionForm),l.setAttribute("method","post"),l.submit()),e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](0),console.error(e.t0),t.isError=e.t0.message||t.$t("error.something_went_wrong");case 27:case"end":return e.stop()}}),e,null,[[0,23]])})))()}}},o=r,l=(n("f7b8"),n("2877")),u=Object(l["a"])(o,i,c,!1,null,"1cf6e35d",null);e["default"]=u.exports},"307e":function(t,e,n){"use strict";n("7db0"),n("c975"),n("b0c0"),n("d3b7"),n("498a");var i=[{id:"usd",shorthand:"usd",name:"USD",icon:"IconUsd",validatorName:null},{id:"bitcoin",shorthand:"btc",name:"BTC",icon:"IconBitcoin",validatorName:"bitcoin"},{id:"ethereum",shorthand:"eth",name:"ETH",icon:"IconEthereum",validatorName:"ethereum"},{id:"litecoin",shorthand:"ltc",name:"LTC",icon:"IconLitecoin",validatorName:"litecoin"},{id:"usdt",shorthand:"usdt",name:"USDT",icon:"IconUsdt",validatorName:"ethereum"},{id:"perfectMoney",shorthand:"pm",name:"Perfect Money",icon:"IconPerfectMoney",validatorName:"perfectmoney"},{id:"payeer",shorthand:"pr",name:"Payeer",icon:"IconPayeer",validatorName:"payeer"}],c={addLimitMin:1,disabled:!0,limitMin:1,replenishmentDisable:!0,withdrawalDisable:!0};e["a"]={name:"PaymentMixin",components:{IconUsd:function(){return n.e("chunk-3b83a1c8").then(n.t.bind(null,"f04f",7))},IconBitcoin:function(){return n.e("chunk-513b72bd").then(n.t.bind(null,"f810",7))},IconEthereum:function(){return n.e("chunk-6196c150").then(n.t.bind(null,"0c5f",7))},IconLitecoin:function(){return n.e("chunk-656ada80").then(n.t.bind(null,"fca8",7))},IconPayeer:function(){return n.e("chunk-8c59805e").then(n.t.bind(null,"6407",7))},IconPerfectMoney:function(){return n.e("chunk-d2722bd2").then(n.t.bind(null,"407f",7))},IconUSDT:function(){return n.e("chunk-331729a8").then(n.t.bind(null,"b1d1",7))}},props:{fetchPaymentConfig:Boolean},computed:{WALLETS:function(t){return t.$store.getters["user/WALLETS"]},paymentConfig:function(){return this.$store.getters["payment/PAYMENT_CONFIG"]},financesActionsTabs:function(){return{USD:["bc","et","er","lc","pm"],BTC:["bt"],ETH:["eh"],LTC:["lt"]}},paymentSystems:function(){return[{prefix:"et",label:"Ethereum",desc:this.$t("finances.desc.et"),descWithdraw:this.$t("finances.desc.withdraw.et"),config:this.paymentConfig["et"]||c,wallet:!!this.WALLETS.ethereum,icon:"IconEthereum"},{prefix:"er",label:"USDT",desc:this.$t("finances.desc.er"),descWithdraw:this.$t("finances.desc.withdraw.er"),config:this.paymentConfig["er"]||c,wallet:!!this.WALLETS.tetherErc,icon:"IconUSDT"},{prefix:"eh",label:"Ethereum",desc:this.$t("finances.desc.eh"),descWithdraw:this.$t("finances.desc.withdraw.eh"),config:this.paymentConfig["eh"]||c,wallet:!!this.WALLETS.ethereum,icon:"IconEthereum"},{prefix:"bc",label:"Bitcoin",desc:this.$t("finances.desc.bc"),descWithdraw:this.$t("finances.desc.withdraw.bc"),config:this.paymentConfig["bc"]||c,wallet:!!this.WALLETS.bitcoin,icon:"IconBitcoin"},{prefix:"bt",label:"Bitcoin",desc:this.$t("finances.desc.bt"),descWithdraw:this.$t("finances.desc.withdraw.bt"),config:this.paymentConfig["bt"]||c,wallet:!!this.WALLETS.bitcoin,icon:"IconBitcoin"},{prefix:"lc",label:"Litecoin",desc:this.$t("finances.desc.lc"),descWithdraw:this.$t("finances.desc.withdraw.lc"),config:this.paymentConfig["lc"]||c,wallet:!!this.WALLETS.litecoin,icon:"IconLitecoin"},{prefix:"pr",label:"Payeer",desc:this.$t("finances.desc.pr"),descWithdraw:this.$t("finances.desc.withdraw.pr"),config:this.paymentConfig["pr"]||c,wallet:!!this.WALLETS.payeer,icon:"IconPayeer"},{prefix:"pm",label:"PerfectMoney",desc:this.$t("finances.desc.pm"),descWithdraw:this.$t("finances.desc.withdraw.pm"),config:this.paymentConfig["pm"]||c,wallet:!!this.WALLETS.perfectMoney,icon:"IconPerfectmoney"}]},cryptoTabs:function(){return{USD:[{name:"BTC",prefix:"bc",title:this.$t("crypto.title_USD_BTC"),subtitle:this.$t("crypto.subtitle_USD_BTC"),conversion:["BTC","USD"],calculation:!0,walletVisible:!0},{name:"ETH",prefix:"et",title:this.$t("crypto.title_ETH_USD"),subtitle:this.$t("crypto.subtitle_ETH_USD"),conversion:["ETH","USD"],calculation:!1,walletVisible:!1},{name:"USDT",prefix:"er",title:this.$t("crypto.title_USDT_USD"),subtitle:this.$t("crypto.subtitle_USDT_USD"),conversion:["USDT","USD"],calculation:!1,walletVisible:!1},{name:"LTC",prefix:"lc",title:this.$t("crypto.title_LTC_USD"),subtitle:this.$t("crypto.subtitle_LTC_USD"),conversion:["LTC","USD"],calculation:!0,walletVisible:!0}],BTC:[{name:"BTC",prefix:"bt",title:this.$t("crypto.title_BTC_BTC"),subtitle:this.$t("crypto.subtitle_BTC_BTC"),conversion:["BTC","BTC"],calculation:!1,walletVisible:!0}],ETH:[{name:"ETH",prefix:"eh",title:this.$t("crypto.title_ETH_ETH"),subtitle:this.$t("crypto.subtitle_ETH_ETH"),conversion:["ETH","ETH"],calculation:!1,walletVisible:!1}]}}},mounted:function(){!1!==this.fetchPaymentConfig&&(console.log(this),this.$store.dispatch("payment/fetchPaymentConfig")["catch"]((function(t){return t})),this.$store.dispatch("user/fetchWallets")["catch"]((function(t){return t})))},methods:{getLink:function(t){var e=t.payment,n=t.hash;return n?["bc","bt","lt"].indexOf(e)>=0?{url:"https://www.blockchain.com/en/btc/tx/".concat(n),text:n}:["et","eh","er"].indexOf(e)>=0?{url:"https://etherscan.io/tx/".concat(n),text:n}:{url:"#",text:n}:{url:!1,text:""}},getIcon:function(t){var e=t.toLowerCase().trim();switch(e){case"usd":case"ac":return"IconUsd";case"btc":case"bt":case"bc":return"IconBitcoin";case"eth":case"et":case"eh":return"IconEthereum";case"ltc":case"lc":case"lt":return"IconLitecoin";case"pr":return"IconPayeer";case"pm":return"IconPerfectmoney";case"usdt":case"er":return"IconUSDT";default:return!1}},selectNamePayment:function(t){switch(t){case"bt":case"bc":return"BTC";case"et":case"eh":return"ETH";case"lc":case"lt":return"LTC";case"usdt":case"er":return"USDT";default:return!1}},$getCurrency:function(t){var e=t.id,n=t.shorthand,c=t.name,s=t.icon,a=t.validatorName,r=e||n||c||s||a;return r?i.find((function(t){return t.id===r||t.shorthand===r||t.name===r||t.icon===r||t.validatorName===r}))||!1:i}}}},"498a":function(t,e,n){"use strict";var i=n("23e7"),c=n("58a8").trim,s=n("c8d2");i({target:"String",proto:!0,forced:s("trim")},{trim:function(){return c(this)}})},c8d2:function(t,e,n){var i=n("d039"),c=n("5899"),s="​᠎";t.exports=function(t){return i((function(){return!!c[t]()||s[t]()!=s||c[t].name!==t}))}},d226:function(t,e,n){},f7b8:function(t,e,n){"use strict";var i=n("d226"),c=n.n(i);c.a}}]);