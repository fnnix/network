(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8842"],{"54e2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grid"},[a("base-input",{staticClass:"hidden",attrs:{readonly:t.isLoading,"autocomplete-native":"off",type:"text"}}),a("base-input",{staticClass:"hidden",attrs:{readonly:t.isLoading,"autocomplete-native":"off",type:"password"}}),a("div",{staticClass:"flex flex-column justify-center justify-center grid-column-12 grid-column-6--lg min-height-full-view--xl relative overflow-hidden padding-3"},[a("img-spot-gray2",{staticClass:"spot-gray2-hero-auth absolute left-0 center-y"}),a("div",{staticClass:"flex flex-column justify-center items-center height-full relative"},[a("img-auth",{staticClass:"img-auth flex-no-shrink"})],1)],1),a("div",{staticClass:"grid-column-12 grid-column-6--lg height-full-view--lg overflow-auto padding-x-3 padding-x-5--lg padding-x-6--xxl padding-y-5 bg-lite color-primary-light"},[a("div",{staticClass:"flex justify-between items-center"},[a("router-link",{staticClass:"btn btn--plain btn--tight",attrs:{to:{name:"guestMain"}}},[a("icon-home",{staticClass:"width-1 margin-right-1"}),a("span",{domProps:{textContent:t._s(t.$t("page.home"))}})],1),a("lang-menu",{staticClass:"hidden block--lg"})],1),a("div",{staticClass:"flex justify-center padding-y-4"},[a("router-link",{staticClass:"logo flex",attrs:{to:{name:"guestMain"}}},[a("icon-logo",{staticClass:"width-5"})],1)],1),a("h1",{staticClass:"text-center",domProps:{textContent:t._s(t.$t("ui.signin"))}}),a("div",{staticClass:"padding-4 padding-6--md padding-4--lg border-primary-light border-rounded-4"},[a("div",{staticClass:"grid grid-row-gap-4 grid-column-gap-4--md grid-column-gap-0--lg grid-column-gap-4--xl"},[a("div",{staticClass:"grid-column-12 grid-column-6--md grid-column-12--lg grid-column-6--xl"},[a("base-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,regex:t.validation.username()},expression:"{ required: true, regex: validation.username() }"}],ref:"usernameInput",attrs:{label:t.$t("ui.username"),readonly:t.isLoading||t.isTwoStepAuthenticationEnabled,error:t.errors.first("username","auth"),type:"text",dataName:"username",placeholder:t.$t("ui.placeholder_username"),"autocomplete-native":"off","data-vv-scope":"auth","no-animation":t.isTwoStepAuthenticationEnabled},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn(e)}},model:{value:t.form.login,callback:function(e){t.$set(t.form,"login",e)},expression:"form.login"}})],1),a("div",{staticClass:"grid-column-12 grid-column-6--md grid-column-12--lg grid-column-6--xl"},[a("base-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:6},expression:"{ required: true, min: 6 }"}],ref:"passwordInput",attrs:{label:t.$t("ui.password"),disabled:t.isLoading||t.isTwoStepAuthenticationEnabled,error:t.errors.first("password","auth"),type:"password",dataName:"password","autocomplete-native":"off","data-vv-scope":"auth","no-animation":t.isTwoStepAuthenticationEnabled},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t.isTwoStepAuthenticationEnabled?a("div",{staticClass:"grid-column-12"},[a("base-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,numeric:!0,min:6},expression:"{ required: true, numeric: true, min: 6 }"}],ref:"twoStepAuthenticationInput",attrs:{label:t.$t("text.authentication_code"),readonly:t.isLoading,error:t.errors.first("authenticationCode","auth"),type:"text",dataName:"authenticationCode","autocomplete-native":"off","data-vv-scope":"auth"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn(e)}},model:{value:t.twoStepAuthenticationCode,callback:function(e){t.twoStepAuthenticationCode=e},expression:"twoStepAuthenticationCode"}})],1):t._e(),t.captcha?a("base-captcha",{ref:"baseCaptcha",staticClass:"grid-column-12 grid-column-6--md grid-column-12--lg grid-column-6--xl animate-fade-in-down"}):t._e(),t.captcha?a("div",{staticClass:"grid-column-12 grid-column-6--md grid-column-12--lg grid-column-6--xl animate-fade-in-down"},[a("base-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:6},expression:"{ required: true, min: 6 }"}],key:"captcha",attrs:{label:t.$t("ui.captcha"),disabled:t.isLoading,error:t.errors.first("captcha","auth"),"data-vv-scope":"auth",type:"text",dataName:"captcha","autocomplete-native":"off"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn(e)}},model:{value:t.captchaField,callback:function(e){t.captchaField=e},expression:"captchaField"}})],1):t._e()],1),a("div",{staticClass:"flex flex-wrap justify-between padding-top-5"},[a("router-link",{staticClass:"order-1 order-initial--xl btn btn--plain width-full width-auto--xl margin-top-3 margin-top-0--xl",attrs:{to:{name:"signUp"}},domProps:{textContent:t._s(t.$t("ui.signup"))}}),a("div",{staticClass:"flex flex-wrap items-center width-full width-auto--xl"},[a("router-link",{staticClass:"block order-1 order-initial--xl margin-right-3--xl width-full width-auto--xl text-center",attrs:{to:{name:"passwordRecovery"}},domProps:{textContent:t._s(t.$t("ui.password_forgot"))}}),a("button",{staticClass:"btn btn--alt width-full width-auto--xl margin-bottom-3 margin-bottom-0--xl",attrs:{type:"button",disabled:!t.fieldsAreValid||t.isLoading,"data-progress":t.isLoading},domProps:{textContent:t._s(t.$t("ui.login"))},on:{click:t.signIn}})],1)],1)])])],1)},i=[],r=(a("d3b7"),a("5530")),o=(a("96cf"),a("1da1")),s=a("e453"),c={name:"SignIn",components:{BaseCaptcha:function(){return a.e("chunk-96b7160a").then(a.bind(null,"e820"))},LangMenu:function(){return Promise.all([a.e("chunk-5fbafd28"),a.e("chunk-42e2aca5")]).then(a.bind(null,"90ca"))},ImgSpotGray2:function(){return a.e("chunk-4f1ce744").then(a.t.bind(null,"a922",7))},ImgAuth:function(){return a.e("chunk-2cd8c95c").then(a.t.bind(null,"a012",7))},IconHome:function(){return a.e("chunk-c26fcd0e").then(a.t.bind(null,"ac9d",7))},IconLogo:function(){return a.e("chunk-78e9b12a").then(a.t.bind(null,"5b1c",7))}},data:function(){return{isLoading:!1,validation:s["a"],captcha:!1,captchaField:"",isTwoStepAuthenticationEnabled:!1,twoStepAuthenticationCode:"",form:{login:"",password:""}}},computed:{fieldsAreValid:function(t){return t.isTwoStepAuthenticationEnabled?!t.errors.any("auth")&&6===t.twoStepAuthenticationCode.length:!t.errors.any("auth")&&t.form.login&&t.form.password&&(!t.captcha||t.captchaField)}},mounted:function(){this.$focusInput("usernameInput")},methods:{checkSecurity:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$validator.validateAll("auth");case 2:return a=e.sent,e.abrupt("return",a?Promise.resolve():Promise.reject());case 4:case"end":return e.stop()}}),e)})))()},signIn:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.fieldsAreValid){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t.isLoading=!0,e.next=6,t.checkSecurity();case 6:if(!t.isTwoStepAuthenticationEnabled){e.next=9;break}return e.next=9,t.$store.dispatch("user/signDoubleAuth",{code:t.twoStepAuthenticationCode});case 9:if(t.isTwoStepAuthenticationEnabled){e.next=18;break}return e.next=12,t.$store.dispatch("user/signIn",Object(r["a"])(Object(r["a"])({},t.form),{},{captcha:t.captchaField}));case 12:if(a=e.sent,t.captchaField="",t.captcha=!1,!a.double_auth){e.next=18;break}return t.isTwoStepAuthenticationEnabled=!0,e.abrupt("return",t.$nextTick((function(){return t.isLoading=!1,t.$refs.twoStepAuthenticationInput.$el.querySelector("input").focus()})));case 18:t.$router.push({name:"accountMain"}),e.next=28;break;case 21:e.prev=21,e.t0=e["catch"](2),(null===e.t0||void 0===e.t0?void 0:e.t0.captcha)&&(t.captcha=!0,t.captcha=e.t0.captcha),null===(n=t.$refs.baseCaptcha)||void 0===n||n.captchaRefresh(),t.isTwoStepAuthenticationEnabled?t.twoStepAuthenticationCode="":(t.form.password="",t.$nextTick((function(){return t.$focusInput("passwordInput")}))),t.captchaField="",t.isLoading=!1;case 28:case"end":return e.stop()}}),e,null,[[2,21]])})))()}}},l=c,u=a("2877"),d=Object(u["a"])(l,n,i,!1,null,null,null);e["default"]=d.exports}}]);