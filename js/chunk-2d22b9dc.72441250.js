(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22b9dc"],{f073:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"padding-x-3 padding-x-4--lg padding-y-4"},[a("div",{staticClass:"flex--md justify-between items-center"},[a("div",{staticClass:"flex--sm items-center"},[a("base-avatar",{staticClass:"margin-bottom-2 margin-bottom-0--sm margin-right-3--sm",attrs:{src:t.$USER.avatar}},[a("button",{staticClass:"mini-btn absolute top-0 right-0 margin-top-2 margin-right-2 border-round color-white flex justify-center items-center padding-0 no-leading",attrs:{type:"button",id:"avatar_upload_trigger"},on:{click:t.avatarUpload}},[t._v("+")])]),a("avatar-cropper",{attrs:{labels:{submit:t.$t("ui.save"),cancel:t.$t("ui.cancel")},"upload-form-data":t.avatarForm,"upload-url":t.avatarUploadUri,"output-options":{width:256,height:256},"upload-form-name":"file",trigger:"#avatar_upload_trigger"},on:{uploaded:t.handleUploaded,error:t.handleError}}),a("div",[a("h2",{staticClass:"margin-y-0",domProps:{textContent:t._s(t.$USER.firstName+" "+t.$USER.lastName)}}),a("div",{domProps:{textContent:t._s(t.$USER.levelName)}}),a("div",{staticClass:"color-primary-light",domProps:{textContent:t._s(t.$USER.email)}})])],1),a("tab-select",{staticClass:"hidden block--md",attrs:{tabs:t.tabs,selected:t.selectedTabIndex},on:{change:t.updateRoute}})],1),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)},r=[],i=(a("7db0"),a("c975"),a("b0c0"),a("d3b7"),a("96cf"),a("1da1")),o={name:"Settings",components:{AvatarCropper:function(){return Promise.resolve().then(a.t.bind(null,"a566",7))},BaseAvatar:function(){return Promise.resolve().then(a.bind(null,"c328"))},TabSelect:function(){return a.e("chunk-4982dcb1").then(a.bind(null,"3978"))}},data:function(){return{avatarForm:{token:"",type:"avatar"},avatarUploadUri:"https://cdn1.wiseling.com/"}},computed:{tabs:function(t){return[{title:t.$t("ui.profile"),name:"accountSettingsProfile",icon:function(){return a.e("chunk-757da027").then(a.t.bind(null,"95dc",7))}},{title:t.$t("ui.wallet"),name:"accountSettingsWallet",icon:function(){return a.e("chunk-fa26b0ac").then(a.t.bind(null,"40ac",7))}},{title:t.$t("ui.security"),name:"accountSettingsSecurity",icon:function(){return a.e("chunk-c0582398").then(a.t.bind(null,"509f",7))}}]},selectedTabIndex:function(t){return t.tabs.indexOf(t.tabs.find((function(e){var a=e.name;return a===t.$route.name})))}},methods:{updateRoute:function(t){var e=t.name;this.$router.push({name:e})},handleUploaded:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,!t.success){a.next=6;break}return n=t.url,e.$store.commit("user/setAvatar",n),a.next=6,e.$store.dispatch("user/updateAvatar",{avatar:n});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),e.$toasted.show(e.$t("error.something_went_wrong"),{type:"error"});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},handleError:function(t,e){this.$toasted.show(this.$t("error.something_went_wrong"),{type:"error"})},avatarUpload:function(){var t=this;this.$store.dispatch("user/fetchCDNToken").then((function(e){t.avatarForm.token=e}))["catch"]((function(t){return t}))}}},s=o,c=a("2877"),u=Object(c["a"])(s,n,r,!1,null,"da51be94",null);e["default"]=u.exports}}]);